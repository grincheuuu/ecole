Parfait üëç J‚Äôai parcouru ton PDF. Voici une **traduction compl√®te en fran√ßais** du sujet `malloc.pdf` :

---

# Un projet plut√¥t UNIX

## malloc

**R√©sum√©** : Ce projet consiste √† impl√©menter un m√©canisme d‚Äôallocation dynamique de m√©moire.

**Version** : 4.1

---

## Chapitre II ‚Äî Instructions g√©n√©rales

* Ce projet sera **corrig√© uniquement par des humains**. Vous √™tes libre d‚Äôorganiser vos fichiers, mais vous devez respecter les r√®gles suivantes :

  * La biblioth√®que doit s‚Äôappeler **libft_malloc_$HOSTTYPE.so**.
  * Un **Makefile** (ou √©quivalent) doit compiler le projet et ne recompiler/re-lier que si n√©cessaire.
  * Le Makefile doit v√©rifier la variable d‚Äôenvironnement `$HOSTTYPE`. Si elle est vide ou inexistante, elle doit √™tre d√©finie comme suit :

    ```make
    ifeq ($(HOSTTYPE),)
    HOSTTYPE := $(shell uname -m)_$(shell uname -s)
    endif
    ```
  * Le Makefile doit cr√©er un **lien symbolique** `libft_malloc.so` pointant vers `libft_malloc_$HOSTTYPE.so`.
    Exemple :

    ```
    libft_malloc.so -> libft_malloc_intel-mac.so
    ```
  * Si vous √™tes malin, utilisez votre biblioth√®que `libft` pour construire votre malloc. Soumettez √©galement votre dossier `libft` avec son propre Makefile √† la racine.

* Vous avez droit √† **une variable globale** pour g√©rer vos allocations et une autre pour la s√©curit√© des threads.

* Le code doit √™tre propre. M√™me sans norme stricte, un code "moche" = note **0**.

* Vous devez g√©rer les erreurs avec soin. Aucune de vos fonctions ne doit mener √† un **comportement ind√©fini** ou √† un **segfault**.

* Fonctions autoris√©es dans la partie obligatoire :

  * `mmap(2)`
  * `munmap(2)`
  * `getpagesize` (OSX) ou `sysconf(_SC_PAGESIZE)` (Linux)
  * `getrlimit(2)`
  * Fonctions de votre libft (ex: `write(2)`)
  * Fonctions de la biblioth√®que `libpthread`

* Pour le **bonus**, vous pouvez utiliser d‚Äôautres fonctions si vous les justifiez lors de votre soutenance.

---

## Chapitre III ‚Äî Partie obligatoire

Ce mini-projet consiste √† √©crire une biblioth√®que de gestion dynamique de m√©moire.
Vous devez **r√©impl√©menter** les fonctions de la libc :

```c
#include <stdlib.h>

void free(void *ptr);
void *malloc(size_t size);
void *realloc(void *ptr, size_t size);
```

* `malloc(size)` : alloue `size` octets et retourne un pointeur.
* `realloc(ptr, size)` : redimensionne la zone point√©e par `ptr`. Si impossible, alloue une nouvelle zone, copie les donn√©es, lib√®re l‚Äôancienne et retourne le nouveau pointeur.
* `free(ptr)` : lib√®re la m√©moire point√©e par `ptr`. Si `ptr == NULL`, ne fait rien.
* En cas d‚Äôerreur, `malloc()` et `realloc()` retournent **NULL**.

‚ö†Ô∏è **Important** :

* Vous devez utiliser `mmap()` et `munmap()` pour demander/rendre la m√©moire au syst√®me.
* Vous ne pouvez pas utiliser `malloc` de la libc pour g√©rer vos allocations internes.
* Il faut limiter les appels √† `mmap()` et `munmap()` ‚Üí donc **pr√©-allouer** des zones pour les petites/moyennes allocations.
* Chaque zone doit contenir au moins **100 allocations**.

Organisation typique :

* `TINY` : petites allocations (1 ‚Üí n octets).
* `SMALL` : moyennes allocations (n+1 ‚Üí m octets).
* `LARGE` : grandes allocations (> m octets), chaque zone √©tant ind√©pendante via `mmap()`.

üëâ √Ä vous de d√©finir n, m, N et M pour optimiser le compromis **performance/m√©moire**.

Vous devez aussi √©crire une fonction de debug :

```c
void show_alloc_mem();
```

Exemple d‚Äôaffichage :

```
TINY : 0xA0000
0xA0020 - 0xA004A : 42 bytes
0xA006A - 0xA00BE : 84 bytes
SMALL : 0xAD000
0xAD020 - 0xADEAD : 3725 bytes
LARGE : 0xB0000
0xB0020 - 0xBBEEF : 48847 bytes
Total : 52698 bytes
```

‚ö†Ô∏è Votre malloc doit **aligner la m√©moire**.

---

## Chapitre IV ‚Äî Partie bonus

* Rendre le malloc **thread-safe** (multi-thread).
* Ajouter des fonctions suppl√©mentaires, comme :

  * gestion de variables d‚Äôenvironnement de debug (`MALLOC_DEBUG` etc.)
  * `show_alloc_mem_ex()` avec plus de d√©tails (historique, hex dump‚Ä¶).
  * d√©f fragmentation de la m√©moire lib√©r√©e.

üëâ Les bonus **ne seront √©valu√©s que si la partie obligatoire est parfaite**.

---

## Chapitre V ‚Äî Rendu et √©valuation

* Rendez votre projet dans votre d√©p√¥t Git habituel.
* Seul le contenu du d√©p√¥t sera √©valu√© lors de la soutenance.

---

## Chapitre VI ‚Äî Petit moment d‚Äôhumour

Avant, le projet `malloc` devait √™tre r√©alis√© avec `brk(2)` et `sbrk(2)` au lieu de `mmap(2)`/`munmap(2)`.

Exemple de `man brk` (Mac OS X) :

```c
void *brk(void *x)
{
    errno = ENOMEM;
    return((void *)-1);
}
```

---

üëâ Voil√† la traduction compl√®te.

Veux-tu que je te pr√©pare une **version PDF traduite en fran√ßais** (mise en page identique) ou juste garder ce texte ici ?
