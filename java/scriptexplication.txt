TrÃ¨s bonne question ğŸ‘
Ce petit script est **simple**, mais il concentre **beaucoup de notions importantes** (shell + Java).
Je vais te lâ€™expliquer **ligne par ligne**, puis te dire **pourquoi câ€™est la bonne pratique Ã  42**.

---

## ğŸ§¾ Le script complet

```bash
#!/bin/bash
rm -rf *.class
find fr -name "*.java" | xargs javac
java fr.simulation.aircraft.Simulator scenario.txt
```

---

## 1ï¸âƒ£ `#!/bin/bash`

### ğŸ‘‰ Shebang

```bash
#!/bin/bash
```

Ã‡a dit au systÃ¨me :

> Â« Ce fichier doit Ãªtre exÃ©cutÃ© avec **bash** Â»

Sans Ã§a :

* le systÃ¨me ne sait pas comment interprÃ©ter le fichier
* ou il lâ€™exÃ©cute avec un shell incompatible

ğŸ“Œ Obligatoire pour un script exÃ©cutable :

```bash
chmod +x run.sh
./run.sh
```

---

## 2ï¸âƒ£ `rm -rf *.class`

### ğŸ‘‰ Nettoyage

```bash
rm -rf *.class
```

Supprime tous les fichiers `.class` **dans le dossier courant**.

### Pourquoi ?

* Java compile en `.class`
* Si tu modifies un `.java` mais quâ€™un vieux `.class` traÃ®ne
  â†’ **bugs fantÃ´mes**
  â†’ erreurs incohÃ©rentes

ğŸ“Œ Ã€ 42, on **nettoie toujours avant de compiler**

âš ï¸ Attention :
Ce `rm` ne supprime que les `.class` du dossier courant
ğŸ‘‰ **Option mieux** (si tu veux Ãªtre clean partout) :

```bash
find . -name "*.class" -delete
```

---

## 3ï¸âƒ£ `find fr -name "*.java"`

### ğŸ‘‰ Recherche des fichiers Java

```bash
find fr -name "*.java"
```

Ã‡a veut dire :

* commence dans le dossier `fr`
* cherche **rÃ©cursivement**
* tous les fichiers qui finissent par `.java`

ğŸ“Œ RÃ©sultat :

```
fr/simulation/aircraft/Simulator.java
fr/simulation/aircraft/Parsing.java
fr/simulation/weather/Flyable.java
fr/simulation/weather/Tower.java
...
```

---

## 4ï¸âƒ£ `| xargs javac`

### ğŸ‘‰ Compilation automatique

```bash
| xargs javac
```

* `|` (pipe) envoie la sortie de `find` vers `javac`
* `xargs` transforme la liste de fichiers en arguments

ğŸ’¡ En pratique :

```bash
javac fr/simulation/aircraft/Simulator.java fr/simulation/weather/Flyable.java ...
```

ğŸ“Œ **Câ€™est LA bonne mÃ©thode** quand :

* tu as plusieurs packages
* tu veux Ã©viter les erreurs dâ€™ordre de compilation

---

## 5ï¸âƒ£ `java fr.simulation.aircraft.Simulator scenario.txt`

### ğŸ‘‰ ExÃ©cution

```bash
java fr.simulation.aircraft.Simulator scenario.txt
```

Important :

* `java` **nâ€™exÃ©cute PAS un fichier**
* il exÃ©cute une **classe**
* avec son **nom de package complet**

ğŸ“Œ Ici :

* classe `Simulator`
* package `fr.simulation.aircraft`
* argument passÃ© : `scenario.txt`

â¡ï¸ Correspond Ã  :

```java
public static void main(String[] args)
```

---

## ğŸ§  Pourquoi ce script est PARFAIT pour Avaj-Launcher

### âœ”ï¸ Avantages

* pas de Maven
* pas de Gradle
* simple
* reproductible
* conforme Ã  lâ€™esprit 42

### âœ”ï¸ Il Ã©vite :

* les erreurs de classloader
* les problÃ¨mes de packages
* les `.class` obsolÃ¨tes
* les compilations partielles

---

## ğŸ”¥ Version amÃ©liorÃ©e (optionnelle mais trÃ¨s propre)

```bash
#!/bin/bash
set -e

echo "Cleaning..."
find . -name "*.class" -delete

echo "Compiling..."
find fr -name "*.java" | xargs javac

echo "Running..."
java fr.simulation.aircraft.Simulator scenario.txt
```

* `set -e` â†’ stoppe le script au **premier Ã©chec**
* messages clairs

---

## ğŸ¯ Ã€ retenir absolument

1ï¸âƒ£ Java â‰  C
2ï¸âƒ£ Packages = dossiers
3ï¸âƒ£ Toujours compiler depuis la racine
4ï¸âƒ£ Toujours exÃ©cuter avec le nom complet de la classe
5ï¸âƒ£ Nettoyer avant compiler

---

ğŸ‘‰ Tu fais **exactement ce quâ€™il faut** pour rÃ©ussir Avaj Launcher.
Si tu veux, je peux :

* vÃ©rifier ton `AircraftFactory`
* tâ€™aider sur `WeatherTower`
* valider ton parsing par rapport au sujet

Dis-moi ğŸ’ª

